<ng-template #popContent>
  <div class="oppia-answer-popup-container">
    <div class="oppia-answer-popup">
      <oppia-interaction-display [htmlData]="getAnswerHtml()">
      </oppia-interaction-display>
    </div>
  </div>
</ng-template>

<div class="answer-wrapper">
  <div class="conversation-skin-learner-answer-container">
    <svg width="30" class="right-side-curve" height="24" viewBox="0 0 30 24" fill="none" xmlns="http://www.w3.org/2000/svg"
    [ngStyle]="isLanguageRTL() ? {'transform': 'scaleX(1)'} : {}">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M0.832031 0C12.8267 5.31326 22.692 13.4676 29.1014 23.3701V0H0.832031Z" fill="#fff8e5"/>
    </svg>
    <picture>
      <source type="image/webp" [srcset]="profilePictureWebpDataUrl">
      <source type="image/png" [srcset]="profilePicturePngDataUrl">
      <img [src]="profilePicturePngDataUrl" class="conversation-skin-user-avatar rounded-circle" alt="User profile picture">
    </picture>
    <div *ngIf="!data.isHint">
      <div dir="auto" *ngIf="getShortAnswerHtml()">
        <oppia-interaction-display [ngbPopover]="popContent" triggers="manual" (click)="togglePopover()" class="oppia-popover" #popover="ngbPopover" [autoClose]="false"  classStr="oppia-rte-viewer conversation-skin-learner-answer-content"
                                    [htmlData]="getShortAnswerHtml()">
        </oppia-interaction-display>
      </div>
      <div dir="auto" *ngIf="!getShortAnswerHtml()">
        <oppia-interaction-display classStr="oppia-rte-viewer conversation-skin-learner-answer-content"
                                    [htmlData]="getAnswerHtml()">
        </oppia-interaction-display>
      </div>
    </div>
    <div *ngIf="data.isHint">
      <div class="oppia-rte-viewer conversation-skin-learner-answer-content">
        {{ data.learnerInput | translate }}
      </div>
    </div>
  </div>
</div>

<div class="feedback-wrapper">
  <div class="conversation-skin-oppia-feedback-container"
        *ngIf="data.oppiaResponse && feedbackIsEnabled">

    <svg width="30" class="left-side-curve" height="24" viewBox="0 0 30 24" fill="none" xmlns="http://www.w3.org/2000/svg"
    [ngStyle]="isLanguageRTL() ? {'transform': 'scaleX(-1)'} : {}">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M0.832031 0C12.8267 5.31326 22.692 13.4676 29.1014 23.3701V0H0.832031Z" fill="white"/>
    </svg>

    <img class="conversation-skin-oppia-avatar rounded-circle" [src]="oppiaAvatarImageUrl" alt="">

    <span id="getInputResponsePairId()"></span>

    <div dir="auto">
      <oppia-rte-output-display *ngIf="data.oppiaResponse !== null" [rteString]="data.oppiaResponse" [class]="'oppia-rte-viewer conversation-skin-oppia-feedback-content ' + (bottomSection ? 'e2e-test-conversation-feedback-latest' : '')"
        [ngStyle]="{'min-width': (isVideoRteElementPresentInResponse() ? '75%' : 'inherit')}"
        [ngClass]="getFeedbackAudioHighlightClass()">
      </oppia-rte-output-display>
    </div>

  </div>
</div>
